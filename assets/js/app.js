$((function(){String.prototype.format=function(){var n=arguments;return this.replace(/{(\d+)}/g,(function(e,t){return void 0!==n[t]?n[t]:e}))},$.fn.ShowBanner=function(){const n=$.Deferred();return $.getJSON("data/banner.json",(function(e){let t='\n        <div>\n          <div class="banner_img" style="background-image: url({0})">\n        </div>\n      ';$.each(e,(function(n,e){$(".banner").append(t.format(e.image))})),n.resolve()})),n},$.fn.ShowTab=function(){const n=$.Deferred();return $.getJSON("data/tab.json",(function(e){let t='\n        <div class="tab_box">\n          <div>\n            <img src="{0}" alt="{1}">\n            <p>{2}</p>\n          </div>\n        </div>\n      ';$.each(e,(function(n,e){$(".tab_list").append("<li data-num={0}>{1}</li>".format(n,"Tab"+e.id)),$(".tab_body").append(t.format(e.image,"Tab"+e.id,e.content))})),n.resolve()})),n},$.fn.ShowAd=function(){const n=$.Deferred();return $.getJSON("data/auto.json",(function(e){let t='\n        <div>\n          <div class="gap">\n            <img src="{0}" alt="{1}">\n          </div>\n        </div>\n      ';$.each(e,(function(n,e){$(".auto_body").append(t.format(e.image+"?random="+n,"Auto"+e.id))})),n.resolve()})),n},$.fn.ShowRanking=function(){const n=$.Deferred();return $.getJSON("data/ranking.json",(function(e){let t='\n        <li>\n          <h3>{0}. {1}</h3>\n          <img src="{2}" alt="{3}">\n        </li>\n      ';$.each(e,(function(n,e){$(".ranking_list").append(t.format(e.id,e.name,e.image+"?random="+n,e.name))})),n.resolve()})),n},$.fn.ShowSearch=function(n){const e=$.Deferred();return $.getJSON("https://tcgbusfs.blob.core.windows.net/blobtcmsv/TCMSV_alldesc.json",(function(t){let o='\n        <div>\n          <div class="gap">\n            <div class="search_info">\n              <h3>{0}</h3>\n              <p class="detail">{1}</p>\n              <p class="area">{2}</p>\n              <p class="address">{3}</p>\n              <p class="service">{4}</p>\n              <p class="pay">{5}</p>\n            </div>\n          </div>\n        </div>\n      ';if(t.data&&t.data.park){let e=t.data.park.slice(0,50);""!==$.trim(n)&&(e=e.filter((e=>e.area===n))),$(".search_result").html(""),$.each(e,(function(n,e){$(".search_result").append(o.format(e.name,e.summary,e.area,e.address,e.serviceTime,e.payex))}))}e.resolve()})),e},$.fn.ShowMember=function(n){const e=$.Deferred();return $.ajax("https://randomuser.me/api/?results=12").done((function(n){$(document).data("MemberPic",[]);let t='\n          <div>\n            <div class="gap">\n              <div class="card">\n                <div class="card_box">\n                  <img src={0} alt={1} />\n                  <h3>{1}</h3>\n                  <ul class="contact">{2}{3}{4}{5}</ul>\n                </div>\n              </div>\n            </div>\n          </div>\n        ',o='\n          <li>\n            <span><span><i class="material-icons">{0}</i></span></span>\n            <a href="{1}">{2}</a>\n          </li>\n        ';n.results&&n.results.length>0&&$.each(n.results,(function(n,e){$(document).data("MemberPic")[n]=e.picture;const a="{0} {1} {2} {3}".format(e.location.city,e.location.state,e.location.country,e.location.postcode);$(".content_container").append(t.format(e.picture.large,"{0} {1}".format(e.name.first,e.name.last),o.format("email","mailto:"+e.email,e.email),o.format("call","tel:"+e.phone,e.phone),o.format("phone_iphone","tel:"+e.cell,e.cell),o.format("home","https://www.google.com.tw/maps/search/"+a,a)))})),e.resolve()})),e},$.fn.ShowAlbum1=function(n){const e=$.Deferred();return $.getJSON("data/album1.json",(function(n){let t="<div><img src={0} alt={1} /></div>",o='\n        <div>\n          <div class="gap">\n            <img src={0} alt={1} />\n          </div>\n        </div>\n      ';$.each(n,(function(n,e){$(".album_large").append(t.format(e.image,"image_"+e.id)),$(".album_list").append(o.format(e.image,"image_"+e.id))})),e.resolve(n)})),e},$.fn.ShowAlbum2=function(n){const e=$.Deferred();return $.getJSON("data/album2.json",(function(n){let t='\n        <div>\n          <div class="gap">\n            <div class="album_box">\n              <img src={0} alt={1} />\n            </div>\n          </div>\n        </div>  \n      ';$.each(n,(function(n,e){$("#album2 .album_content").append(t.format(e.image,"image_"+e.id))})),e.resolve()})),e},$(document).on("click",".tab_list > li",(function(n){const e=$(this).attr("data-num");$(".tab_list > li").removeClass("active"),$(".tab_box").removeClass("active"),$(this).addClass("active"),$(".tab_box").eq(e).addClass("active")})).on("click",".menu_toggle",(function(n){$(this).hasClass("active")?($(this).removeClass("active"),$(".menu_list").removeClass("active"),$("body").removeClass("fixed_body")):($(this).addClass("active"),$(".menu_list").addClass("active"),$("body").addClass("fixed_body"))})).on("click",'input[name="photo"]',(function(n){const e=$(".content_container > div"),t=$(this).val();for(let n=0;n<e.length;n++)e.eq(n).find(".card_box > img").attr("src",$(document).data("MemberPic")[n][t])})).on("click","#album2 .album_content div",(function(n){const e=$(this).find("img").attr("src"),t=$(this).find("img").attr("alt");$(".modal_body > div").html("").append("<img src={0} alt={1} />".format(e,t)),$(".modal_container").show(),$("body").addClass("fixed_body")})).on("click",".go_top",(function(n){$("body, html").animate({scrollTop:0},800)})).on("click","#modal_btn_close, .modal_container",(function(){$(".modal_container").hide(),$("body").removeClass("fixed_body")})).on("mouseover",".ranking_list > li",(function(n){$(window).width()>=992&&($(".ranking_list > li > img").hide(),$(this).find("img").show())})).on("change","#searchParking",(function(n){const e=$(this).val(),t="全部"!==e?e:"";$(document).ShowSearch(t)})).on("_showHome",(function(n){$(document).ShowBanner().done((function(){$(".banner").slick({dots:!0,arrows:!1,autoplay:!0,autoplaySpeed:3e3,fade:!0})})).fail((function(){$(".banner").hide()})),$(document).ShowTab().done((function(){$(".tab_list > li:eq(0)").addClass("active"),$(".tab_box:eq(0)").addClass("active")})),$(document).ShowAd().done((function(){const n=$(".auto_body > div").length;for(let n=0;n<4;n++)$(".auto_body > div").eq(n).show();let e=0;setInterval((function(){$(".auto_body > div").hide(),e>=n&&(e=0);for(let n=e;n<e+4;n++)$(".auto_body > div").eq(n).show();e+=4}),3e3)})),$(document).ShowRanking().done((function(){$(window).width()>=992?($(".ranking_list > li > img").hide(),$(".ranking_list > li:eq(0) > img").show()):$(".ranking_list > li > img").show()}))})).on("_showSearch",(function(n){$(document).ShowSearch()})).on("_showMember",(function(n){$(document).ShowMember().done((function(){$('input[name="photo"][value="large"]').trigger("click")}))})).on("_showAlbum",(function(n){$(document).ShowAlbum1().done((function(n){$(document).trigger("_showAlbumSlider")})),$(document).ShowAlbum2()})).on("_showAlbumSlider",(function(n){$(".album_large").slick({slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!0,asNavFor:".album_list"}),$(".album_list").slick({autoplay:!0,infinite:!0,slidesToShow:4,slidesToScroll:1,arrows:!0,asNavFor:".album_large",focusOnSelect:!0,responsive:[{breakpoint:767,settings:{arrows:!1,slidesToShow:2}}]})})).ready((function(){$(document).trigger("_showHome").trigger("_showSearch").trigger("_showMember").trigger("_showAlbum"),$(".go_top").hide()})),$(window).on("resize",(function(){$(window).width()>=992?($(".ranking_list > li > img").hide(),$(".ranking_list > li:eq(0) > img").show()):($(".ranking_list > li > img").show(),$(".go_top").hide())})).on("scroll",(function(){$(window).width()>=992&&($(this).scrollTop()>100?$(".go_top").fadeIn(1e3):$(".go_top").fadeOut(1e3))}))}));
//# sourceMappingURL=app.js.map
